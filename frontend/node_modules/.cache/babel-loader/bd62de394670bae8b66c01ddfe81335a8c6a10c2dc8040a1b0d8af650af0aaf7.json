{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport majorsData from '../majors.json';\nimport favoriteIcon from '../assets/favorite.png';\nimport './Favorite.css';\nconst KEY = 'favorites';\n\n// --- Helper functions ---\nfunction loadFavorites() {\n  try {\n    const fav = JSON.parse(localStorage.getItem(KEY)) || [];\n    return fav.map(Number);\n  } catch {\n    return [];\n  }\n}\nfunction saveFavorites(list) {\n  localStorage.setItem(KEY, JSON.stringify(list.map(Number)));\n}\nfunction toggleFavorite(pk) {\n  const favorites = loadFavorites();\n  let updated;\n  if (favorites.includes(pk)) {\n    updated = favorites.filter(id => id !== pk);\n  } else {\n    updated = [...favorites, pk];\n  }\n  saveFavorites(updated);\n  return updated;\n}\n\n// --- Main component ---\nfunction Favorite() {\n  _s();\n  const [favorites, setFavorites] = useState([]);\n  function updateFavorites() {\n    const favIds = loadFavorites();\n    const favMajors = majorsData.filter(function (m) {\n      return favIds.includes(m.pk);\n    });\n    setFavorites(favMajors);\n  }\n  useEffect(function () {\n    updateFavorites();\n    const handleStorage = function () {\n      updateFavorites();\n    };\n    window.addEventListener('storage', handleStorage);\n    return function () {\n      window.removeEventListener('storage', handleStorage);\n    };\n  }, []);\n\n  // Toggle favorite for any major\n  function handleToggle(pk) {\n    toggleFavorite(pk);\n    updateFavorites();\n  }\n\n  // Render all majors with favorite buttons\n  return /*#__PURE__*/React.createElement('div', null, /*#__PURE__*/React.createElement('h1', null, 'Favorites & Majors'), /*#__PURE__*/React.createElement('ul', null, majorsData.map(function (major) {\n    const isFav = loadFavorites().includes(major.pk);\n    return /*#__PURE__*/React.createElement('li', {\n      key: major.pk,\n      style: {\n        marginBottom: '20px'\n      }\n    }, /*#__PURE__*/React.createElement('h2', null, major.fields.name), /*#__PURE__*/React.createElement('p', null, major.fields.about), /*#__PURE__*/React.createElement('button', {\n      onClick: function () {\n        handleToggle(major.pk);\n      },\n      style: {\n        cursor: 'pointer'\n      }\n    }, /*#__PURE__*/React.createElement('img', {\n      src: favoriteIcon,\n      alt: 'Favorite',\n      style: {\n        width: '20px',\n        marginRight: '5px'\n      },\n      className: isFav ? 'active' : ''\n    }), isFav ? 'Remove from Favorites' : 'Add to Favorites'));\n  })), /*#__PURE__*/React.createElement('h2', null, 'Your Favorites'), favorites.length === 0 ? /*#__PURE__*/React.createElement('p', null, 'No favorites yet.') : /*#__PURE__*/React.createElement('ul', null, favorites.map(function (major) {\n    return /*#__PURE__*/React.createElement('li', {\n      key: major.pk\n    }, major.fields.name);\n  })));\n}\n_s(Favorite, \"gYNGUuNbE7AW8shO5JZPpsJJ/gw=\");\n_c = Favorite;\nexport default Favorite;\nvar _c;\n$RefreshReg$(_c, \"Favorite\");","map":{"version":3,"names":["React","useState","useEffect","majorsData","favoriteIcon","KEY","loadFavorites","fav","JSON","parse","localStorage","getItem","map","Number","saveFavorites","list","setItem","stringify","toggleFavorite","pk","favorites","updated","includes","filter","id","Favorite","_s","setFavorites","updateFavorites","favIds","favMajors","m","handleStorage","window","addEventListener","removeEventListener","handleToggle","createElement","major","isFav","key","style","marginBottom","fields","name","about","onClick","cursor","src","alt","width","marginRight","className","length","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/code/CareerMatch/frontend/src/pages/Favorite.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport majorsData from '../majors.json';\r\nimport favoriteIcon from '../assets/favorite.png';\r\nimport './Favorite.css';\r\n\r\nconst KEY = 'favorites';\r\n\r\n// --- Helper functions ---\r\nfunction loadFavorites() {\r\n  try {\r\n    const fav = JSON.parse(localStorage.getItem(KEY)) || [];\r\n    return fav.map(Number);\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction saveFavorites(list) {\r\n  localStorage.setItem(KEY, JSON.stringify(list.map(Number)));\r\n}\r\n\r\nfunction toggleFavorite(pk) {\r\n  const favorites = loadFavorites();\r\n  let updated;\r\n  if (favorites.includes(pk)) {\r\n    updated = favorites.filter(id => id !== pk);\r\n  } else {\r\n    updated = [...favorites, pk];\r\n  }\r\n  saveFavorites(updated);\r\n  return updated;\r\n}\r\n\r\n// --- Main component ---\r\nfunction Favorite() {\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  function updateFavorites() {\r\n    const favIds = loadFavorites();\r\n    const favMajors = majorsData.filter(function(m) {\r\n      return favIds.includes(m.pk);\r\n    });\r\n    setFavorites(favMajors);\r\n  }\r\n\r\n  useEffect(function() {\r\n    updateFavorites();\r\n\r\n    const handleStorage = function() { updateFavorites(); };\r\n    window.addEventListener('storage', handleStorage);\r\n    return function() { window.removeEventListener('storage', handleStorage); };\r\n  }, []);\r\n\r\n  // Toggle favorite for any major\r\n  function handleToggle(pk) {\r\n    toggleFavorite(pk);\r\n    updateFavorites();\r\n  }\r\n\r\n  // Render all majors with favorite buttons\r\n  return React.createElement('div', null,\r\n    React.createElement('h1', null, 'Favorites & Majors'),\r\n    React.createElement('ul', null,\r\n      majorsData.map(function(major) {\r\n        const isFav = loadFavorites().includes(major.pk);\r\n        return React.createElement('li', { key: major.pk, style: { marginBottom: '20px' } },\r\n          React.createElement('h2', null, major.fields.name),\r\n          React.createElement('p', null, major.fields.about),\r\n          React.createElement('button', {\r\n            onClick: function() { handleToggle(major.pk); },\r\n            style: { cursor: 'pointer' }\r\n          },\r\n            React.createElement('img', { \r\n              src: favoriteIcon, \r\n              alt: 'Favorite', \r\n              style: { width: '20px', marginRight: '5px' },\r\n              className: isFav ? 'active' : ''\r\n            }),\r\n            isFav ? 'Remove from Favorites' : 'Add to Favorites'\r\n          )\r\n        );\r\n      })\r\n    ),\r\n    React.createElement('h2', null, 'Your Favorites'),\r\n    favorites.length === 0 ?\r\n      React.createElement('p', null, 'No favorites yet.') :\r\n      React.createElement('ul', null,\r\n        favorites.map(function(major) {\r\n          return React.createElement('li', { key: major.pk },\r\n            major.fields.name\r\n          );\r\n        })\r\n      )\r\n  );\r\n}\r\n\r\nexport default Favorite;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}