{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport majorsData from '../majors.json';\nimport favoriteIcon from '../assets/favorite.png';\nimport './Favorite.css';\nconst KEY = 'favorites';\n\n// --- Helper functions ---\nfunction loadFavorites() {\n  try {\n    const fav = JSON.parse(localStorage.getItem(KEY)) || [];\n    return fav.map(Number);\n  } catch {\n    return [];\n  }\n}\nfunction saveFavorites(list) {\n  localStorage.setItem(KEY, JSON.stringify(list.map(Number)));\n}\nfunction toggleFavorite(pk) {\n  const favorites = loadFavorites();\n  let updated;\n  if (favorites.includes(pk)) {\n    updated = favorites.filter(id => id !== pk);\n  } else {\n    updated = [...favorites, pk];\n  }\n  saveFavorites(updated);\n  return updated;\n}\n\n// --- Main component ---\nfunction Favorite() {\n  _s();\n  const [favorites, setFavorites] = useState([]);\n  function updateFavorites() {\n    const favIds = loadFavorites();\n    const favMajors = majorsData.filter(function (m) {\n      return favIds.includes(m.pk);\n    });\n    setFavorites(favMajors);\n  }\n  useEffect(function () {\n    updateFavorites();\n    const handleStorage = function () {\n      updateFavorites();\n    };\n    window.addEventListener('storage', handleStorage);\n    return function () {\n      window.removeEventListener('storage', handleStorage);\n    };\n  }, []);\n  function handleToggle(pk) {\n    toggleFavorite(pk);\n    updateFavorites();\n  }\n\n  // Render all majors in a card-like view\n  return /*#__PURE__*/React.createElement('div', {\n    className: 'favorites-container'\n  }, /*#__PURE__*/React.createElement('h1', null, 'Majors & Favorites'),\n  /*#__PURE__*/\n  // All majors\n  React.createElement('div', {\n    className: 'majors-grid'\n  }, majorsData.map(function (major) {\n    const isFav = loadFavorites().includes(major.pk);\n    return /*#__PURE__*/React.createElement('div', {\n      key: major.pk,\n      className: 'major-card'\n    }, /*#__PURE__*/React.createElement('h2', null, major.fields.name), /*#__PURE__*/React.createElement('p', null, major.fields.about), /*#__PURE__*/React.createElement('button', {\n      onClick: function () {\n        handleToggle(major.pk);\n      },\n      className: isFav ? 'fav-btn active' : 'fav-btn'\n    }, /*#__PURE__*/React.createElement('img', {\n      src: favoriteIcon,\n      alt: 'Favorite',\n      className: 'fav-icon'\n    }), isFav ? 'Remove Favorite' : 'Add Favorite'));\n  })),\n  /*#__PURE__*/\n  // Your Favorites List\n  React.createElement('div', {\n    className: 'your-favorites'\n  }, /*#__PURE__*/React.createElement('h2', null, 'Your Favorites'), favorites.length === 0 ? /*#__PURE__*/React.createElement('p', null, 'No favorites yet.') : /*#__PURE__*/React.createElement('ul', null, favorites.map(function (major) {\n    return /*#__PURE__*/React.createElement('li', {\n      key: major.pk\n    }, major.fields.name);\n  }))));\n}\n_s(Favorite, \"gYNGUuNbE7AW8shO5JZPpsJJ/gw=\");\n_c = Favorite;\nexport default Favorite;\nvar _c;\n$RefreshReg$(_c, \"Favorite\");","map":{"version":3,"names":["React","useState","useEffect","majorsData","favoriteIcon","KEY","loadFavorites","fav","JSON","parse","localStorage","getItem","map","Number","saveFavorites","list","setItem","stringify","toggleFavorite","pk","favorites","updated","includes","filter","id","Favorite","_s","setFavorites","updateFavorites","favIds","favMajors","m","handleStorage","window","addEventListener","removeEventListener","handleToggle","createElement","className","major","isFav","key","fields","name","about","onClick","src","alt","length","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/code/CareerMatch/frontend/src/pages/Favorite.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport majorsData from '../majors.json';\r\nimport favoriteIcon from '../assets/favorite.png';\r\nimport './Favorite.css';\r\n\r\nconst KEY = 'favorites';\r\n\r\n// --- Helper functions ---\r\nfunction loadFavorites() {\r\n  try {\r\n    const fav = JSON.parse(localStorage.getItem(KEY)) || [];\r\n    return fav.map(Number);\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction saveFavorites(list) {\r\n  localStorage.setItem(KEY, JSON.stringify(list.map(Number)));\r\n}\r\n\r\nfunction toggleFavorite(pk) {\r\n  const favorites = loadFavorites();\r\n  let updated;\r\n  if (favorites.includes(pk)) {\r\n    updated = favorites.filter(id => id !== pk);\r\n  } else {\r\n    updated = [...favorites, pk];\r\n  }\r\n  saveFavorites(updated);\r\n  return updated;\r\n}\r\n\r\n// --- Main component ---\r\nfunction Favorite() {\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  function updateFavorites() {\r\n    const favIds = loadFavorites();\r\n    const favMajors = majorsData.filter(function(m) {\r\n      return favIds.includes(m.pk);\r\n    });\r\n    setFavorites(favMajors);\r\n  }\r\n\r\n  useEffect(function() {\r\n    updateFavorites();\r\n    const handleStorage = function() { updateFavorites(); };\r\n    window.addEventListener('storage', handleStorage);\r\n    return function() { window.removeEventListener('storage', handleStorage); };\r\n  }, []);\r\n\r\n  function handleToggle(pk) {\r\n    toggleFavorite(pk);\r\n    updateFavorites();\r\n  }\r\n\r\n  // Render all majors in a card-like view\r\n  return React.createElement('div', { className: 'favorites-container' },\r\n    React.createElement('h1', null, 'Majors & Favorites'),\r\n\r\n    // All majors\r\n    React.createElement('div', { className: 'majors-grid' },\r\n      majorsData.map(function(major) {\r\n        const isFav = loadFavorites().includes(major.pk);\r\n        return React.createElement('div', { key: major.pk, className: 'major-card' },\r\n          React.createElement('h2', null, major.fields.name),\r\n          React.createElement('p', null, major.fields.about),\r\n          React.createElement('button', {\r\n            onClick: function() { handleToggle(major.pk); },\r\n            className: isFav ? 'fav-btn active' : 'fav-btn'\r\n          },\r\n            React.createElement('img', { src: favoriteIcon, alt: 'Favorite', className: 'fav-icon' }),\r\n            isFav ? 'Remove Favorite' : 'Add Favorite'\r\n          )\r\n        );\r\n      })\r\n    ),\r\n\r\n    // Your Favorites List\r\n    React.createElement('div', { className: 'your-favorites' },\r\n      React.createElement('h2', null, 'Your Favorites'),\r\n      favorites.length === 0 ?\r\n        React.createElement('p', null, 'No favorites yet.') :\r\n        React.createElement('ul', null,\r\n          favorites.map(function(major) {\r\n            return React.createElement('li', { key: major.pk }, major.fields.name);\r\n          })\r\n        )\r\n    )\r\n  );\r\n}\r\n\r\nexport default Favorite;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}