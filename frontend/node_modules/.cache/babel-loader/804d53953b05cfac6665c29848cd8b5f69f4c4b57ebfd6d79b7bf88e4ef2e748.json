{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport majorsData from '../majors.json';\nimport favoriteIcon from '../assets/favorite.png';\nimport './Favorite.css';\nconst KEY = 'favorites';\n\n// Helper functions\nfunction loadFavorites() {\n  try {\n    const fav = JSON.parse(localStorage.getItem(KEY)) || [];\n    return fav.map(Number);\n  } catch {\n    return [];\n  }\n}\nfunction saveFavorites(list) {\n  localStorage.setItem(KEY, JSON.stringify(list.map(Number)));\n}\nfunction toggleFavorite(pk) {\n  const favorites = loadFavorites();\n  let updated;\n  if (favorites.includes(pk)) {\n    updated = favorites.filter(id => id !== pk);\n  } else {\n    updated = [...favorites, pk];\n  }\n  saveFavorites(updated);\n  return updated;\n}\nfunction Favorite() {\n  _s();\n  const [favorites, setFavorites] = useState([]);\n\n  // Load favorites from localStorage\n  function updateFavorites() {\n    const favIds = loadFavorites();\n    const favMajors = majorsData.filter(function (m) {\n      return favIds.includes(m.pk);\n    });\n    setFavorites(favMajors);\n  }\n  useEffect(function () {\n    updateFavorites();\n\n    // Optional: update if localStorage changes in another tab\n    const handleStorage = function () {\n      updateFavorites();\n    };\n    window.addEventListener('storage', handleStorage);\n    return function () {\n      window.removeEventListener('storage', handleStorage);\n    };\n  }, []);\n\n  // Add/remove favorite\n  function handleToggle(pk) {\n    toggleFavorite(pk);\n    updateFavorites();\n  }\n  if (favorites.length === 0) {\n    return /*#__PURE__*/React.createElement('div', null, /*#__PURE__*/React.createElement('h1', null, 'My Favorites'), /*#__PURE__*/React.createElement('p', null, 'No favorites yet.'));\n  }\n  return /*#__PURE__*/React.createElement('div', null, /*#__PURE__*/React.createElement('h1', null, 'My Favorites'), /*#__PURE__*/React.createElement('ul', null, favorites.map(function (major) {\n    const isFav = true; // Already in favorites\n    return /*#__PURE__*/React.createElement('li', {\n      key: major.pk\n    }, /*#__PURE__*/React.createElement('h2', null, major.fields.name), /*#__PURE__*/React.createElement('p', null, major.fields.about), /*#__PURE__*/React.createElement('button', {\n      onClick: function () {\n        handleToggle(major.pk);\n      }\n    }, /*#__PURE__*/React.createElement('img', {\n      src: favoriteIcon,\n      alt: 'Favorite',\n      className: 'active'\n    }), ' Remove from Favorites'));\n  })));\n}\n_s(Favorite, \"gYNGUuNbE7AW8shO5JZPpsJJ/gw=\");\n_c = Favorite;\nexport default Favorite;\nvar _c;\n$RefreshReg$(_c, \"Favorite\");","map":{"version":3,"names":["React","useState","useEffect","majorsData","favoriteIcon","KEY","loadFavorites","fav","JSON","parse","localStorage","getItem","map","Number","saveFavorites","list","setItem","stringify","toggleFavorite","pk","favorites","updated","includes","filter","id","Favorite","_s","setFavorites","updateFavorites","favIds","favMajors","m","handleStorage","window","addEventListener","removeEventListener","handleToggle","length","createElement","major","isFav","key","fields","name","about","onClick","src","alt","className","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/code/CareerMatch/frontend/src/pages/Favorite.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport majorsData from '../majors.json';\r\nimport favoriteIcon from '../assets/favorite.png';\r\nimport './Favorite.css';\r\n\r\nconst KEY = 'favorites';\r\n\r\n// Helper functions\r\nfunction loadFavorites() {\r\n  try {\r\n    const fav = JSON.parse(localStorage.getItem(KEY)) || [];\r\n    return fav.map(Number);\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction saveFavorites(list) {\r\n  localStorage.setItem(KEY, JSON.stringify(list.map(Number)));\r\n}\r\n\r\nfunction toggleFavorite(pk) {\r\n  const favorites = loadFavorites();\r\n  let updated;\r\n  if (favorites.includes(pk)) {\r\n    updated = favorites.filter(id => id !== pk);\r\n  } else {\r\n    updated = [...favorites, pk];\r\n  }\r\n  saveFavorites(updated);\r\n  return updated;\r\n}\r\n\r\nfunction Favorite() {\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  // Load favorites from localStorage\r\n  function updateFavorites() {\r\n    const favIds = loadFavorites();\r\n    const favMajors = majorsData.filter(function(m) {\r\n      return favIds.includes(m.pk);\r\n    });\r\n    setFavorites(favMajors);\r\n  }\r\n\r\n  useEffect(function() {\r\n    updateFavorites();\r\n\r\n    // Optional: update if localStorage changes in another tab\r\n    const handleStorage = function() { updateFavorites(); };\r\n    window.addEventListener('storage', handleStorage);\r\n    return function() { window.removeEventListener('storage', handleStorage); };\r\n  }, []);\r\n\r\n  // Add/remove favorite\r\n  function handleToggle(pk) {\r\n    toggleFavorite(pk);\r\n    updateFavorites();\r\n  }\r\n\r\n  if (favorites.length === 0) {\r\n    return React.createElement('div', null,\r\n      React.createElement('h1', null, 'My Favorites'),\r\n      React.createElement('p', null, 'No favorites yet.')\r\n    );\r\n  }\r\n\r\n  return React.createElement('div', null,\r\n    React.createElement('h1', null, 'My Favorites'),\r\n    React.createElement('ul', null,\r\n      favorites.map(function(major) {\r\n        const isFav = true; // Already in favorites\r\n        return React.createElement('li', { key: major.pk },\r\n          React.createElement('h2', null, major.fields.name),\r\n          React.createElement('p', null, major.fields.about),\r\n          React.createElement('button', {\r\n            onClick: function() { handleToggle(major.pk); }\r\n          }, \r\n            React.createElement('img', { src: favoriteIcon, alt: 'Favorite', className: 'active' }),\r\n            ' Remove from Favorites'\r\n          )\r\n        );\r\n      })\r\n    )\r\n  );\r\n}\r\n\r\nexport default Favorite;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}